{% extends "base.html" %} {% block title %}API - documentation{% endblock %} {%
block content %}
<!DOCTYPE html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="description" content="" />

    <meta http-equiv="cleartype" content="on" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="../static/styles/style.css" />
  </head>

  <body>
    <div class="left-menu">
      <div class="content-logo">
        <div class="logo">
          <a href="/" style="color: teal; font-size: x-large"> <b>Home</b></a>
          <br /><br />
          <span>API Documentation</span>
        </div>
        <button class="burger-menu-icon" id="button-menu-mobile">
          <svg width="34" height="34" viewBox="0 0 100 100">
            <path
              class="line line1"
              d="M 20,29.000046 H 80.000231 C 80.000231,29.000046 94.498839,28.817352 94.532987,66.711331 94.543142,77.980673 90.966081,81.670246 85.259173,81.668997 79.552261,81.667751 75.000211,74.999942 75.000211,74.999942 L 25.000021,25.000058"
            ></path>
            <path class="line line2" d="M 20,50 H 80"></path>
            <path
              class="line line3"
              d="M 20,70.999954 H 80.000231 C 80.000231,70.999954 94.498839,71.182648 94.532987,33.288669 94.543142,22.019327 90.966081,18.329754 85.259173,18.331003 79.552261,18.332249 75.000211,25.000058 75.000211,25.000058 L 25.000021,74.999942"
            ></path>
          </svg>
        </button>
      </div>
      <div class="mobile-menu-closer"></div>
      <div class="content-menu">
        <div class="content-infos">
          <div class="info"><b>Version:</b> 1.0.0</div>
          <div class="info"><b>Last Updated:</b> 26th Apr, 2022</div>
        </div>
        <ul>
          <li class="scroll-to-link active" data-target="content-get-started">
            <a>Get started</a>
          </li>
          <li class="scroll-to-link" data-target="content-add-owner">
            <a>Add Owner</a>
          </li>
          <li class="scroll-to-link" data-target="content-get-no-product-owner">
            <a>Get no. of products for owner</a>
          </li>
          <li
            class="scroll-to-link"
            data-target="content-get-product-general-details-owner"
          >
            <a>Get product general details for owner</a>
          </li>
          <li
            class="scroll-to-link"
            data-target="content-get-product-status-details-owner"
          >
            <a>Get product status details for owner</a>
          </li>
          <li class="scroll-to-link" data-target="content-add-product-owner">
            <a>Add product owner</a>
          </li>
          <li class="scroll-to-link" data-target="content-add-supplier">
            <a>Add Supplier</a>
          </li>
          <li
            class="scroll-to-link"
            data-target="content-get-no-product-supplier"
          >
            <a>Get no. of products for supplier</a>
          </li>
          <li
            class="scroll-to-link"
            data-target="content-get-product-general-details-supplier"
          >
            <a>Get product general details for supplier</a>
          </li>
          <li
            class="scroll-to-link"
            data-target="content-add-product-status-supplier"
          >
            <a>Add product status supplier</a>
          </li>
          <!--<li class="scroll-to-link" data-target="content-errors">
            <a>Errors</a>
          </li>-->
        </ul>
      </div>
    </div>
    <div class="content-page">
      <div class="content-code"></div>
      <div class="content">
        <div class="overflow-hidden content-section" id="content-get-started">
          <h1>Get started</h1>
          <pre>
    API Endpoint
                </pre
          >
          <pre><code class="javascript">
// In javascript
const contractAbi = //<a class="higlighted" href="https://github.com/subarthin/blockchain/blob/master/app.js#L7">Click here for ABI</a>
const contractAddress = "0x860Ce059120F2AecfE69331067Fe231c3DDd32EB";
var myContract = new web3.eth.Contract(contractAbi, contractAddress);
          </code></pre>
          <p>
            The API provides functions for two main parties in the supply chain
            - The owner and the Supplier.<br /><br />Functions for owners
            are:<br /><br />
            - <code class="higlighted">add owner</code><br />
            - <code class="higlighted">get number of products</code><br />
            - <code class="higlighted">get product details</code><br />
            - <code class="higlighted">get product status</code><br />
            - <code class="higlighted">add product owner</code>
            <br /><br />Functions for suppliers are:<br />
            - <code class="higlighted">add supplier</code><br />
            - <code class="higlighted">get number of products</code><br />
            - <code class="higlighted">get product details</code><br />
            - <code class="higlighted">get product status</code>
          </p>
        </div>
        <div class="overflow-hidden content-section" id="content-add-owner">
          <h2>Add owner</h2>
          <pre><code class="javascript">
// Here is a javascript example
const address = req.query.accountaddress;
const ownerName = req.query.name;
const ownerId = req.query.ownerId;
const query = await myContract.methods.addOwner(address, ownerName, ownerId).encodeABI();
                </code></pre>
          <p>To add the owner into the supply chain</p>
          <br />
          <h4>QUERY PARAMETERS</h4>
          <table class="central-overflow-x">
            <thead>
              <tr>
                <th>Field</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>address</td>
                <td>String</td>
                <td>Metamask address</td>
              </tr>
              <tr>
                <td>ownerName</td>
                <td>String</td>
                <td>Owner name</td>
              </tr>
              <tr>
                <td>ownerId</td>
                <td>String</td>
                <td>Owner ID</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div
          class="overflow-hidden content-section"
          id="content-get-no-product-owner"
        >
          <h2>Get no. of products for owner</h2>
          <pre><code class="javascript">
// Here is a javascript example
const address = req.query.accountaddress;
const ownerId = req.query.ownerId;
var value = await myContract.methods.getNoProductOwner(address, ownerId).call({
    from: companyAddress,
});
                </code></pre>
          <p>To get the number of products for owner</p>
          <br />
          <pre><code class="javascript">
// Result:
Number of products for owner: Integer
                            </code></pre>
          <h4>QUERY PARAMETERS</h4>
          <table class="central-overflow-x">
            <thead>
              <tr>
                <th>Field</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>address</td>
                <td>String</td>
                <td>Metamask address</td>
              </tr>
              <tr>
                <td>ownerId</td>
                <td>String</td>
                <td>Owner ID</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div
          class="overflow-hidden content-section"
          id="content-get-product-general-details-owner"
        >
          <h2>Get product general details for owner</h2>
          <pre><code class="javascript">
// Here is a javascript example
const address = req.query.accountaddress;
const ownerId = req.query.ownerId;
var value = await myContract.methods.getProductGeneralDetailsOwner(address, ownerId).call({
    from: companyAddress,
});
                </code></pre>
          <p>To get the product details for owner</p>
          <br />
          <pre><code class="javascript">
// Result:
Product details for owner
                            </code></pre>
          <h4>QUERY PARAMETERS</h4>
          <table class="central-overflow-x">
            <thead>
              <tr>
                <th>Field</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>address</td>
                <td>String</td>
                <td>Metamask address</td>
              </tr>
              <tr>
                <td>ownerId</td>
                <td>String</td>
                <td>Owner ID</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div
          class="overflow-hidden content-section"
          id="content-get-product-status-details-owner"
        >
          <h2>Get product status details for owner</h2>
          <pre><code class="javascript">
// Here is a javascript example
const address = req.query.accountaddress;
const ownerId = req.query.ownerId;
const productId = req.query.productId;
var value = await myContract.methods.getProductStatusDetailsOwner(address, ownerId, productId).call({
    from: companyAddress,
});
                </code></pre>
          <p>To get the product status details for owner</p>
          <br />
          <pre><code class="javascript">
// Result:
Product status details for owner
                            </code></pre>
          <h4>QUERY PARAMETERS</h4>
          <table class="central-overflow-x">
            <thead>
              <tr>
                <th>Field</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>address</td>
                <td>String</td>
                <td>Metamask address</td>
              </tr>
              <tr>
                <td>ownerId</td>
                <td>String</td>
                <td>Owner ID</td>
              </tr>
              <tr>
                <td>productId</td>
                <td>String</td>
                <td>Product ID</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div
          class="overflow-hidden content-section"
          id="content-add-product-owner"
        >
          <h2>Function to add a product</h2>
          <pre><code class="javascript">
// Here is a javascript example
const address = req.query.accountaddress;
const ownerId = req.query.ownerId;
const productName = req.query.name;
const query = await myContract.methods.addProductOwner(address, ownerId, productName).encodeABI();
                </code></pre>
          <p>Owner can add a product</p>
          <br />
          <h4>QUERY PARAMETERS</h4>
          <table class="central-overflow-x">
            <thead>
              <tr>
                <th>Field</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>address</td>
                <td>String</td>
                <td>Metamask address</td>
              </tr>
              <tr>
                <td>ownerId</td>
                <td>String</td>
                <td>Owner ID</td>
              </tr>
              <tr>
                <td>productName</td>
                <td>String</td>
                <td>Product name</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="overflow-hidden content-section" id="content-add-supplier">
          <h2>Add supplier</h2>
          <pre><code class="javascript">
// Here is a javascript example
const address = req.query.accountaddress;
const supplierName = req.query.name;
const supplierId = req.query.supplierId;
const query = await myContract.methods.addSupplier(address, supplierName, supplierId).encodeABI();
                </code></pre>
          <p>To add the supplier into the supply chain</p>
          <br />
          <h4>QUERY PARAMETERS</h4>
          <table class="central-overflow-x">
            <thead>
              <tr>
                <th>Field</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>address</td>
                <td>String</td>
                <td>Metamask address</td>
              </tr>
              <tr>
                <td>supplierName</td>
                <td>String</td>
                <td>Supplier name</td>
              </tr>
              <tr>
                <td>supplierId</td>
                <td>String</td>
                <td>Supplier ID</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div
          class="overflow-hidden content-section"
          id="content-get-no-product-supplier"
        >
          <h2>Get no. of products for supplier</h2>
          <pre><code class="javascript">
// Here is a javascript example
const address = req.query.accountaddress;
const supplierId = req.query.supplierId;
var value = await myContract.methods.getNoProductSupplier(address, supplierId).call({
    from: companyAddress,
});
                </code></pre>
          <p>To get the number of products for supplier</p>
          <br />
          <pre><code class="javascript">
// Result:
Number of products for supplier: Integer
                            </code></pre>
          <h4>QUERY PARAMETERS</h4>
          <table class="central-overflow-x">
            <thead>
              <tr>
                <th>Field</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>address</td>
                <td>String</td>
                <td>Metamask address</td>
              </tr>
              <tr>
                <td>supplierId</td>
                <td>String</td>
                <td>Supplier ID</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div
          class="overflow-hidden content-section"
          id="content-get-product-general-details-supplier"
        >
          <h2>Get product general details for supplier</h2>
          <pre><code class="javascript">
// Here is a javascript example
const address = req.query.accountaddress;
const supplierId = req.query.supplierId;
var value = await myContract.methods.getProductGeneralDetailsSupplier(address, supplierId).call({
    from: companyAddress,
});
                </code></pre>
          <p>To get the product details for supplier</p>
          <br />
          <pre><code class="javascript">
// Result:
Product details for supplier
                            </code></pre>
          <h4>QUERY PARAMETERS</h4>
          <table class="central-overflow-x">
            <thead>
              <tr>
                <th>Field</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>address</td>
                <td>String</td>
                <td>Metamask address</td>
              </tr>
              <tr>
                <td>supplierId</td>
                <td>String</td>
                <td>Supplier ID</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div
          class="overflow-hidden content-section"
          id="content-add-product-status-supplier"
        >
          <h2>Add product status supplier</h2>
          <pre><code class="javascript">
// Here is a javascript example
const address = req.query.accountaddress;
const supplierId = req.query.supplierId;
const message = req.query.message;
const productId = req.query.productId;
const query = await myContract.methods.addProductStausSupplier(address, supplierId, message, productId).encodeABI();
                </code></pre>
          <p>Supplier can add product status</p>
          <br />
          <pre><code class="javascript">
// Result:
Product status details for owner
                            </code></pre>
          <h4>QUERY PARAMETERS</h4>
          <table class="central-overflow-x">
            <thead>
              <tr>
                <th>Field</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>address</td>
                <td>String</td>
                <td>Metamask address</td>
              </tr>
              <tr>
                <td>supplierId</td>
                <td>String</td>
                <td>Supplier ID</td>
              </tr>
              <tr>
                <td>message</td>
                <td>String</td>
                <td>Message from supplier</td>
              </tr>
              <tr>
                <td>productId</td>
                <td>String</td>
                <td>Product ID</td>
              </tr>
            </tbody>
          </table>
        </div>
        <!--<div class="overflow-hidden content-section" id="content-errors">
          <h2>Errors</h2>
          <p>The API uses the following error codes:</p>
          <table>
            <thead>
              <tr>
                <th>Error Code</th>
                <th>Meaning</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>X000</td>
                <td>
                  Some parameters are missing. This error appears when you don't
                  pass every mandatory parameters.
                </td>
              </tr>
              <tr>
                <td>X001</td>
                <td>
                  Unknown or unvalid <code class="higlighted">secret_key</code>.
                  This error appears if you use an unknow API key or if your API
                  key expired.
                </td>
              </tr>
              <tr>
                <td>X002</td>
                <td>
                  Unvalid <code class="higlighted">secret_key</code> for this
                  domain. This error appears if you use an API key non specified
                  for your domain. Developper or Universal API keys doesn't have
                  domain checker.
                </td>
              </tr>
              <tr>
                <td>X003</td>
                <td>
                  Unknown or unvalid user <code class="higlighted">token</code>.
                  This error appears if you use an unknow user
                  <code class="higlighted">token</code> or if the user
                  <code class="higlighted">token</code> expired.
                </td>
              </tr>
            </tbody>
          </table>
        </div>-->
      </div>
      <div class="content-code"></div>
    </div>
    <script src="../static/script.js"></script>
  </body>
</html>
{% endblock %}
